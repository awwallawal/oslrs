# Story 1.5.2: Homepage Implementation

Status: done

## Story

As a **Public Visitor**,
I want to **see a professional homepage that clearly explains OSLSR and provides paths to registration**,
so that I understand the initiative's purpose and can take action.

## Acceptance Criteria

1. **AC1: Hero Section**
   - GIVEN a visitor lands on the homepage (`/`)
   - WHEN the page renders
   - THEN the Hero Section MUST display:
     - H1: "Building a Clear Picture of Oyo State's Workforce" (Poppins SemiBold)
     - Subtext: "The Oyo State Labour & Skills Registry helps government plan better jobs, skills training, and economic opportunities — using accurate data collected directly from residents."
     - Primary CTA: "Register Your Skills" → `/register` (Oyo State Red button)
     - Secondary CTA: "Learn How It Works" → `/about/how-it-works` (Ghost/outline button)
   - AND hero section has appropriate vertical padding and centered text

2. **AC2: What Is OSLSR Section**
   - GIVEN the homepage loads
   - WHEN I scroll past the hero
   - THEN the "What Is OSLSR?" section MUST display:
     - H2: "What Is OSLSR?"
     - Explanatory paragraph from IA document
     - Light background to differentiate from hero

3. **AC3: Who Can Participate Section (3 Cards)**
   - GIVEN the homepage loads
   - WHEN I view the "Who Can Participate?" section
   - THEN 3 cards MUST display in responsive grid:
     - Card 1: "Residents" - icon, description, "Learn More →" link to `/participate`
     - Card 2: "Skilled Workers" - icon, description, "Register Now →" link to `/register`
     - Card 3: "Employers" - icon, description, "Search Workers →" link to `/marketplace`
   - AND cards display 3-column on desktop, stack on mobile

4. **AC4: How It Works Section (4 Steps)**
   - GIVEN the homepage loads
   - WHEN I view the "How It Works" section
   - THEN a 4-step visual flow MUST display:
     - Step 1: Icon + "Create Account" + description
     - Step 2: Icon + "Verify Email" + description
     - Step 3: Icon + "Complete Survey" + description
     - Step 4: Icon + "Get Verified" + description
   - AND steps show horizontally on desktop with connecting arrows
   - AND steps stack vertically on mobile

5. **AC5: What You'll Need Section**
   - GIVEN the homepage loads
   - WHEN I view the "What You'll Need" section
   - THEN a checklist MUST display with:
     - NIN (with explanation about validation)
     - Phone Number (with explanation)
     - Email Address (with explanation)
     - "About 10 Minutes" (time estimate)
   - AND uses icon + title + description format

6. **AC6: Coverage & Progress Section (Phase 1 Placeholder)**
   - GIVEN Phase 1 implementation (no API yet)
   - WHEN I view the "Coverage & Progress" section
   - THEN 3 metric cards MUST display with STATIC values:
     - "33 LGAs Covered" (known value)
     - "XX,XXX Registered Workers" (placeholder - can show "Coming Soon")
     - "Ongoing Data Collection" (status indicator)
   - AND design supports future API integration (data-testid attributes for metrics)

7. **AC7: Marketplace Preview Section (Phase 1 Placeholder)**
   - GIVEN Phase 1 implementation (marketplace not ready)
   - WHEN I view the "Public Skills Marketplace" section
   - THEN a placeholder MUST display:
     - H2: "Find Verified Local Talent"
     - Subtext: "Connect with skilled artisans and professionals in your LGA."
     - Fake search form (disabled inputs) OR "Coming Soon" message
     - "Government Verified badge" info callout
   - AND links to `/participate/employers` for more info

8. **AC8: Trust & Data Protection Section**
   - GIVEN the homepage loads
   - WHEN I view the "Trust & Data Protection" section
   - THEN MUST display:
     - Oyo State Seal (use existing `/images/oyo-coat-of-arms.svg`)
     - Ministry Logo (use existing `/images/oyo-state-logo.svg`)
     - NDPA Compliant Badge (icon or text badge)
     - Trust statement about data protection
     - "Read Our Privacy Policy →" link to `/about/privacy`

9. **AC9: Final CTA Section**
   - GIVEN the homepage loads
   - WHEN I reach the bottom of the page (before footer)
   - THEN a final CTA section MUST display:
     - H2: "Ready to Register?" heading
     - Motivational subtext
     - "Register Now →" primary button to `/register`
     - "Already started? Continue your registration →" text link to `/login`

10. **AC10: Responsive Design & Performance**
    - GIVEN various viewport sizes
    - WHEN viewing the homepage
    - THEN all sections MUST:
      - Be fully responsive (mobile-first)
      - Use lazy loading for the HomePage component
      - Meet Core Web Vitals (LCP < 2.5s)
      - Pass WCAG 2.1 AA accessibility

## Tasks / Subtasks

- [x] **Task 0: Install Required Dependencies** (AC: all)
  - [x] 0.1 Install shadcn Card component: `pnpm dlx shadcn@latest add card`
  - [x] 0.2 Verify Lucide React icons available (already installed via shadcn)

- [x] **Task 1: Create HomePage Component Structure** (AC: all)
  - [x] 1.1 Create `apps/web/src/features/home/HomePage.tsx` as main component
  - [x] 1.2 Create `apps/web/src/features/home/index.ts` barrel export
  - [x] 1.3 **CRITICAL:** Update App.tsx - REPLACE existing inline `HomePageContent` (lines 39-66) with lazy-loaded HomePage
  - [x] 1.4 Add lazy import: `const HomePage = lazy(() => import('./features/home'));`
  - [x] 1.5 Create section components folder `apps/web/src/features/home/sections/`

- [x] **Task 2: Hero Section** (AC: 1)
  - [x] 2.1 Create `apps/web/src/features/home/sections/HeroSection.tsx`
  - [x] 2.2 Implement H1 heading (ONLY H1 on page), subtext, and dual CTAs
  - [x] 2.3 Style with gradient or subtle background pattern
  - [x] 2.4 Use container pattern: `container mx-auto px-4 sm:px-6 lg:px-8`

- [x] **Task 3: Content Sections** (AC: 2, 3, 4, 5)
  - [x] 3.1 Create `apps/web/src/features/home/sections/WhatIsSection.tsx` (H2 heading)
  - [x] 3.2 Create `apps/web/src/features/home/sections/ParticipantsSection.tsx` (3 cards, H2 heading)
  - [x] 3.3 Create `apps/web/src/features/home/sections/HowItWorksSection.tsx` (4 steps, H2 heading)
  - [x] 3.4 Create `apps/web/src/features/home/sections/RequirementsSection.tsx` (checklist, H2 heading)

- [x] **Task 4: Placeholder Sections (Phase 1)** (AC: 6, 7)
  - [x] 4.1 Create `apps/web/src/features/home/sections/CoverageSection.tsx` (static metrics, H2 heading)
  - [x] 4.2 Create `apps/web/src/features/home/sections/MarketplacePreviewSection.tsx` (coming soon, H2 heading)
  - [x] 4.3 Add data-testid attributes for future API integration

- [x] **Task 5: Trust & CTA Sections** (AC: 8, 9)
  - [x] 5.1 Create `apps/web/src/features/home/sections/TrustSection.tsx` (H2 heading)
  - [x] 5.2 Create `apps/web/src/features/home/sections/FinalCtaSection.tsx` (H2 heading)
  - [x] 5.3 Use existing image assets from `/images/` folder

- [x] **Task 6: Shared Components** (AC: all)
  - [x] 6.1 Create `apps/web/src/features/home/components/SectionWrapper.tsx` (consistent padding/container)
  - [x] 6.2 Create `apps/web/src/features/home/components/SectionHeading.tsx` (reusable H2 pattern)
  - [x] 6.3 Create `apps/web/src/features/home/components/FeatureCard.tsx` (reusable card using shadcn Card)
  - [x] 6.4 Create `apps/web/src/features/home/components/StepIndicator.tsx` (numbered step with connector)

- [x] **Task 7: Testing** (AC: 10)
  - [x] 7.1 Create `apps/web/src/features/home/__tests__/HomePage.test.tsx` (feature __tests__ folder pattern)
  - [x] 7.2 Test all 9 sections render in correct order
  - [x] 7.3 Test navigation links work (register, login, about, participate, marketplace)
  - [x] 7.4 Test responsive behavior (mobile/desktop)
  - [x] 7.5 Run `pnpm test` - verify all tests pass (baseline: 235+ tests) - **256 tests passing**

- [x] **Task 8: Final Validation** (AC: 10)
  - [x] 8.1 Run ESLint - no warnings/errors
  - [x] 8.2 Build verification - TypeScript compiles
  - [x] 8.3 Manual browser test on mobile and desktop
  - [x] 8.4 Lighthouse accessibility audit

## Dev Notes

### CRITICAL: Replace Existing HomePageContent

**App.tsx has an existing inline component that MUST be replaced:**

```typescript
// REMOVE THIS (lines 39-66 in App.tsx):
function HomePageContent() {
  return (
    <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-16">
      // ... existing placeholder content
    </div>
  );
}

// REPLACE WITH lazy import at top of file:
const HomePage = lazy(() => import('./features/home'));

// AND update the route (around line 124):
<Route
  index
  element={
    <Suspense fallback={<PageLoadingFallback />}>
      <HomePage />
    </Suspense>
  }
/>
```

### Existing Image Assets (USE THESE - DO NOT CREATE NEW)

Images already exist in `apps/web/public/images/`:
- `/images/oyo-state-logo.svg` - Main logo (also .png available)
- `/images/oyo-state-logo-white.png` - White version for dark backgrounds
- `/images/oyo-coat-of-arms.svg` - Official Oyo State seal (also .png)

Usage:
```tsx
<img src="/images/oyo-state-logo.svg" alt="Oyo State Logo" className="h-12" />
<img src="/images/oyo-coat-of-arms.svg" alt="Oyo State Seal" className="h-16" />
```

### Section Order (MUST follow this order)

1. **Hero** - H1 heading (ONLY H1 on page)
2. **What Is OSLSR** - H2
3. **Who Can Participate** - H2 (3 cards)
4. **How It Works** - H2 (4 steps)
5. **What You'll Need** - H2 (checklist)
6. **Coverage & Progress** - H2 (Phase 1 placeholder)
7. **Marketplace Preview** - H2 (Phase 1 placeholder)
8. **Trust & Data Protection** - H2
9. **Final CTA** - H2

### Heading Hierarchy (Accessibility)

- **H1**: Hero section ONLY ("Building a Clear Picture of Oyo State's Workforce")
- **H2**: All section headings
- **H3**: Card titles or sub-sections if needed
- Never skip heading levels (H1 → H3 is invalid)

### Component Patterns

**Container Pattern (use consistently):**
```tsx
<section className="py-16 lg:py-24">
  <div className="container mx-auto px-4 sm:px-6 lg:px-8">
    {/* section content */}
  </div>
</section>
```

**Responsive Grid (3 cards):**
```tsx
<div className="grid grid-cols-1 md:grid-cols-3 gap-6">
  <FeatureCard ... />
  <FeatureCard ... />
  <FeatureCard ... />
</div>
```

**Responsive Grid (4 steps):**
```tsx
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
  <StepIndicator step={1} ... />
  <StepIndicator step={2} ... />
  <StepIndicator step={3} ... />
  <StepIndicator step={4} ... />
</div>
```

### Icon Mapping (Lucide React)

```typescript
import {
  User, UserPlus, Briefcase, Building2,  // Participant cards
  Mail, FileText, CheckCircle, BadgeCheck, // How it works steps
  CreditCard, Phone, Clock,                // Requirements
  Shield, MapPin                           // Trust/Coverage
} from 'lucide-react';
```

| Element | Icon |
|---------|------|
| Residents card | `User` |
| Skilled Workers card | `Briefcase` |
| Employers card | `Building2` |
| Create Account step | `UserPlus` |
| Verify Email step | `Mail` |
| Complete Survey step | `FileText` |
| Get Verified step | `BadgeCheck` |
| NIN requirement | `CreditCard` |
| Phone requirement | `Phone` |
| Email requirement | `Mail` |
| Time requirement | `Clock` |
| LGAs metric | `MapPin` |
| Trust/NDPA | `Shield` |

### Content Source (EXACT COPY - DO NOT IMPROVISE)

All text content from `docs/public-website-ia.md` Section 2 (Homepage).

**Hero Section:**
```
H1: Building a Clear Picture of Oyo State's Workforce

The Oyo State Labour & Skills Registry helps government plan better jobs,
skills training, and economic opportunities — using accurate data collected
directly from residents.

CTA1: Register Your Skills → /register
CTA2: Learn How It Works → /about/how-it-works
```

**What Is OSLSR:**
```
The Oyo State Labour & Skills Registry (OSLSR) is a government initiative to
help Oyo State better understand its workforce. It allows residents to securely
register their skills, work experience, and employment status using their
mobile phones.
```

**Participant Cards:**
```
Residents: Register your skills and work status to be counted. [Learn More →]
Skilled Workers: Showcase your trade and get verified for opportunities. [Register Now →]
Employers: Find verified local talent in the public marketplace. [Search Workers →]
```

**How It Works Steps:**
```
Step 1: CREATE ACCOUNT - Register with your phone number, email, and NIN
Step 2: VERIFY EMAIL - Confirm your email address
Step 3: COMPLETE SURVEY - Fill out the skills survey (~10 minutes)
Step 4: GET VERIFIED - Appear in the marketplace with verified badge
```

**What You'll Need:**
```
NIN (National Identification Number): Your 11-digit NIN verifies your identity. We validate it locally — we don't store or share it publicly.
Phone Number: A Nigerian mobile number for verification and optional marketplace contact.
Email Address: For account verification and important updates.
About 10 Minutes: The survey covers your skills, work history, and marketplace preferences.
```

**Final CTA:**
```
Ready to Register?
Your skills matter. Register today and help shape Oyo State's future workforce.
[Register Now →] → /register
Already started? [Continue your registration →] → /login
```

### Route Corrections (from Story 1.5.1)

Use these routes (NOT `/auth/*`):
- `/register` - Public registration
- `/login` - Public login
- `/about/how-it-works` - How it works page
- `/about/privacy` - Privacy policy
- `/participate` - Participate landing
- `/participate/employers` - For employers
- `/marketplace` - Marketplace (Phase 2 placeholder)

### Phase 1 Placeholder Attributes

Add `data-testid` for future API integration:
```tsx
<div data-testid="metric-registered-workers">Coming Soon</div>
<div data-testid="metric-lgas-covered">33</div>
<div data-testid="metric-status">Ongoing Data Collection</div>
```

### Testing Baseline

- Current test count: **235 tests passing** (after Story 1.5.1)
- Expected after this story: ~245-250 tests
- Test file location: `apps/web/src/features/home/HomePage.test.tsx` (co-located)

### References

- [Source: docs/public-website-ia.md#Section 2 - Homepage (EXACT COPY)]
- [Source: _bmad-output/planning-artifacts/epics.md#Story 1.5.2]
- [Source: _bmad-output/project-context.md#Feature-Based Frontend Organization]
- [Source: apps/web/src/layouts/ - Layout components from Story 1.5.1]
- [Source: apps/web/src/index.css - Design tokens]
- [Source: apps/web/src/App.tsx - Current route structure (lines 39-66 to replace)]
- [Source: apps/web/public/images/ - Existing image assets]

## Dev Agent Record

### Agent Model Used

{{agent_model_name_version}}

### Debug Log References

### Completion Notes List

- All 9 homepage sections implemented per IA specification
- 21 new tests added (256 total tests passing)
- ESLint clean, build successful
- Homepage lazy-loaded via barrel export pattern
- All routes use correct paths (/register, /login, /about/privacy, etc.)
- data-testid attributes added for Phase 1 placeholder metrics
- Shared components enable consistent styling across sections

### Change Log

| Date | Change | Author |
|------|--------|--------|
| 2026-01-23 | Code review PASSED - story marked done, tasks completed | Claude Opus 4.5 |
| 2026-01-23 | Story validated and improved by PM agent (John) | Claude Opus 4.5 |
| 2026-01-23 | Story created by SM agent (Bob) | Claude Opus 4.5 |

### File List

**Created:**
- `apps/web/src/features/home/HomePage.tsx` - Main homepage component
- `apps/web/src/features/home/index.ts` - Barrel export for lazy loading
- `apps/web/src/features/home/sections/index.ts` - Section exports
- `apps/web/src/features/home/sections/HeroSection.tsx` - Hero with H1, CTAs
- `apps/web/src/features/home/sections/WhatIsSection.tsx` - What Is OSLSR explanation
- `apps/web/src/features/home/sections/ParticipantsSection.tsx` - 3 participant cards
- `apps/web/src/features/home/sections/HowItWorksSection.tsx` - 4-step flow
- `apps/web/src/features/home/sections/RequirementsSection.tsx` - Requirements checklist
- `apps/web/src/features/home/sections/CoverageSection.tsx` - Coverage metrics (Phase 1 placeholder)
- `apps/web/src/features/home/sections/MarketplacePreviewSection.tsx` - Marketplace preview (Phase 1 placeholder)
- `apps/web/src/features/home/sections/TrustSection.tsx` - Trust & Data Protection
- `apps/web/src/features/home/sections/FinalCtaSection.tsx` - Final CTA before footer
- `apps/web/src/features/home/components/index.ts` - Shared component exports
- `apps/web/src/features/home/components/SectionWrapper.tsx` - Consistent section container
- `apps/web/src/features/home/components/SectionHeading.tsx` - Reusable H2 pattern
- `apps/web/src/features/home/components/FeatureCard.tsx` - Card using shadcn Card
- `apps/web/src/features/home/components/StepIndicator.tsx` - Numbered step with connector
- `apps/web/src/features/home/__tests__/HomePage.test.tsx` - 21 homepage tests
- `apps/web/src/components/ui/card.tsx` - shadcn Card component

**Modified:**
- `apps/web/src/App.tsx` - Added lazy import for HomePage, updated route
