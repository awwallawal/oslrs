# =============================================================================
# OSLSR Environment Configuration Template
# =============================================================================
# Copy this file to .env and replace placeholder values with your actual credentials
# NEVER commit .env to version control - only .env.example is safe to commit
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE (PostgreSQL 15)
# -----------------------------------------------------------------------------
# Primary database connection
DATABASE_URL=postgres://user:password@localhost:5432/app_db

# Read replica for reporting queries (optional, can be same as primary)
DATABASE_URL_REPLICA=postgres://readonly_user:password@localhost:5432/app_db

# -----------------------------------------------------------------------------
# REDIS (Job Queue & Caching)
# -----------------------------------------------------------------------------
# Used by BullMQ for background jobs (email, imports) and caching
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# PUBLIC URL
# -----------------------------------------------------------------------------
# Frontend application URL (used in emails, redirects)
# Development: http://localhost:5173
# Production: https://your-domain.com
PUBLIC_APP_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# SECURITY (JWT)
# -----------------------------------------------------------------------------
# JWT signing secrets - use strong random strings in production
# Generate with: openssl rand -base64 32
JWT_SECRET=super-secret-jwt-key-change-in-production
REFRESH_TOKEN_SECRET=super-secret-refresh-key-change-in-production

# -----------------------------------------------------------------------------
# EMAIL SERVICE
# -----------------------------------------------------------------------------
# Provider: 'resend' (production) or 'mock' (development/testing)
# Mock provider logs emails to console instead of sending
EMAIL_PROVIDER=mock

# Resend API Configuration (https://resend.com)
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_your_api_key_here

# Email sender details (must be verified domain in Resend)
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=Your App Name

# Budget Configuration
# Tier: 'free' (3K/mo, 100/day), 'pro' ($20/mo, 50K), 'scale' ($90/mo, 100K)
EMAIL_TIER=free

# Monthly overage budget in cents (Pro tier only) - $30.00 = 3000
EMAIL_MONTHLY_OVERAGE_BUDGET=3000

# Rate Limits - Max resend attempts per user per 24 hours
EMAIL_RESEND_MAX_PER_USER=3

# -----------------------------------------------------------------------------
# AWS SES (Legacy/Optional - for future use)
# -----------------------------------------------------------------------------
# AWS_SES_REGION=us-east-1
# AWS_SES_ACCESS_KEY=your-aws-access-key
# AWS_SES_SECRET_KEY=your-aws-secret-key

# -----------------------------------------------------------------------------
# DIGITALOCEAN SPACES (S3-Compatible Object Storage)
# -----------------------------------------------------------------------------
# Used for: staff photos, ID cards, bulk imports, database backups
# Setup guide: _bmad-output/developer-guides/digitalocean-spaces-setup.md

# Spaces endpoint - use your region (sfo3, nyc3, ams3, sgp1, fra1)
# Use same region as your Droplet for best performance
S3_ENDPOINT=https://sfo3.digitaloceanspaces.com
S3_REGION=sfo3

# Bucket name (create in DO console: Spaces > Create a Space)
S3_BUCKET_NAME=your-bucket-name

# Spaces access keys (DO console: API > Spaces Keys > Generate New Key)
S3_ACCESS_KEY=your-spaces-access-key-id
S3_SECRET_KEY=your-spaces-secret-key

# CDN endpoint for faster photo loading (optional but recommended)
# Enable CDN when creating Space, then use this format:
# https://{bucket}.{region}.cdn.digitaloceanspaces.com
S3_CDN_ENDPOINT=https://your-bucket-name.sfo3.cdn.digitaloceanspaces.com

# -----------------------------------------------------------------------------
# HCAPTCHA (Bot Protection)
# -----------------------------------------------------------------------------
# Get keys from: https://dashboard.hcaptcha.com
# Test keys (localhost only - always pass):
#   Site Key: 10000000-ffff-ffff-ffff-000000000001
#   Secret:   0x0000000000000000000000000000000000000000

# hCaptcha secret key (server-side verification)
HCAPTCHA_SECRET=0x0000000000000000000000000000000000000000

# hCaptcha site key (client-side widget) - VITE_ prefix exposes to frontend
VITE_HCAPTCHA_SITE_KEY=10000000-ffff-ffff-ffff-000000000001

# Skip captcha validation (development only - set to false in production)
SKIP_CAPTCHA=true

# -----------------------------------------------------------------------------
# ADMIN ALERTS
# -----------------------------------------------------------------------------
# Email address for system alerts and notifications
SUPER_ADMIN_EMAIL=admin@yourdomain.com

# -----------------------------------------------------------------------------
# SERVER CONFIG
# -----------------------------------------------------------------------------
# API server port
PORT=3000

# Environment: 'development', 'test', or 'production'
NODE_ENV=development
